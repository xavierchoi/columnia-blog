<!-- 인기 댓글 위젯 -->
<div class="sidebar-section popular-comments-widget">
    <div id="popularCommentsContainer">
        <div class="loading-placeholder">
            <p>인기 토론을 불러오는 중...</p>
        </div>
    </div>
</div>

<script>
// 인기 댓글 위젯 초기화
document.addEventListener('DOMContentLoaded', function() {
    // giscus-utils.js가 로드된 후 실행
    setTimeout(() => {
        if (window.giscusUtils) {
            giscusUtils.renderPopularWidget('popularCommentsContainer');
        } else {
            document.getElementById('popularCommentsContainer').innerHTML = 
                '<p class="no-discussions">댓글 시스템을 불러올 수 없습니다.</p>';
        }
    }, 2000); // 2초 후 실행 (API 호출 완료 대기)
});
</script>

<style>
.popular-comments-widget .loading-placeholder {
    text-align: center;
    color: var(--text-muted);
    font-style: italic;
    padding: var(--space-lg);
}

.popular-comments-widget .loading-placeholder p {
    margin: 0;
    font-size: 0.9rem;
}
</style>