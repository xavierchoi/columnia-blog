---
layout: default
---

<!-- 레이아웃 문제 해결을 위한 컨테이너 추가 -->
<div class="page-layout-container">
    <div class="content-area">
        <article class="page-single">
            <header class="page-header">
                <h1 class="page-title">{{ page.title }}</h1>
            </header>
            
            <div class="page-content">
                {{ content }}
            </div>
        </article>
    </div>

    <!-- Simple Sidebar for pages -->
    <aside class="sidebar slide-in">
        <div class="sidebar-section">
            <h3 class="sidebar-title">페이지</h3>
            <div class="page-nav">
                <a href="{{ '/' | relative_url }}" class="page-nav-link">홈</a>
                <a href="{{ '/about' | relative_url }}" class="page-nav-link">소개</a>
                <a href="{{ '/categories' | relative_url }}" class="page-nav-link">카테고리</a>
                <a href="{{ '/tags' | relative_url }}" class="page-nav-link">태그</a>
            </div>
        </div>
        
        <!-- Recent Posts -->
        <div class="sidebar-section">
            <h3 class="sidebar-title">최근 글</h3>
            <div class="recent-posts">
                {% for post in site.posts limit: 5 %}
                <div class="recent-post">
                    <h4><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h4>
                    <div class="recent-post-meta">
                        <span>⏰ {{ post.date | date: "%m월 %d일" }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </aside>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('📝 일반 페이지 통일 레이아웃 시스템 적용');
    
    // 일반 페이지 전용 body 클래스 추가
    document.body.classList.add('layout-page');
    console.log('✅ body.layout-page 클래스 추가됨');
    
    // 레이아웃 측정 및 검증
    function measurePageLayout() {
        const contentArea = document.querySelector('.content-area');
        const sidebar = document.querySelector('.sidebar');
        
        if (contentArea) {
            const rect = contentArea.getBoundingClientRect();
            const windowCenter = window.innerWidth / 2;
            const contentStart = rect.left;
            const expectedStart = windowCenter - 400; // 800px의 절반
            const offset = Math.abs(expectedStart - contentStart);
            
            console.log('📐 === 일반 페이지 레이아웃 측정 ===');
            console.log(`화면 중앙: ${windowCenter}px`);
            console.log(`콘텐츠 시작점: ${contentStart}px`);
            console.log(`예상 시작점: ${expectedStart}px`);
            console.log(`오프셋: ${offset}px`);
            console.log(`포스트 페이지와 정렬 성공: ${offset <= 5 ? '✅' : '❌'}`);
            
            if (sidebar) {
                const sidebarRect = sidebar.getBoundingClientRect();
                const sidebarVisible = getComputedStyle(sidebar).display !== 'none';
                console.log(`사이드바 표시: ${sidebarVisible}`);
                if (sidebarVisible) {
                    console.log(`사이드바 시작점: ${sidebarRect.left}px`);
                }
            }
        }
    }
    
    // 초기 측정
    setTimeout(measurePageLayout, 500);
    
    // 창 크기 변경시 재측정
    let pageResizeTimeout;
    window.addEventListener('resize', function() {
        clearTimeout(pageResizeTimeout);
        pageResizeTimeout = setTimeout(measurePageLayout, 200);
    });
    
    console.log('✅ 일반 페이지 통일 레이아웃 시스템 완료');
});
</script>